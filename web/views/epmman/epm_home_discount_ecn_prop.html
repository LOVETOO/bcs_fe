<!--
/**
 * 工程折扣变更 - 详情页
 * @since 2019-09-03
 */
-->
<div hc-obj-prop>
    <div id="base" class="active">
        <div hc-box>
            <div class="row">
				<div
					hc-label="变更申请单号"
					hc-input="data.currItem.discount_ecn_code"
					hc-readonly="true"
				></div>
				
				<div
					hc-label="变更申请人"
					hc-input="data.currItem.creator_name"
					hc-readonly="true"
				></div>

				<div
					hc-label="申请时间"
					hc-input="data.currItem.createtime"
					hc-readonly="true"
				></div>

				<div
					hc-label="单据状态"
					hc-input="data.currItem.stat"
                    hc-dict-code="stat"
					hc-readonly="true"
				></div>
			</div>
			
			<div class="row">
				<div
					hc-label="折扣单号"
					hc-input="data.currItem.discount_apply_code"
					hc-class-id="epm_discount_apply"
					hc-common-search="commonSearch.discount_apply_code"
					hc-required="true"
				></div>
                
                <div
					hc-label="合同编码"
					hc-input="data.currItem.contract_code"
					hc-readonly="true"
				></div>

				<div
					hc-label="合同名称"
					hc-input="data.currItem.contract_name"
					hc-readonly="true"
					hc-col-count="4"
				></div>
            </div>

            <div class="row">
                <div
                    hc-label="经销商编码"
                    hc-input="data.currItem.customer_code"
                    hc-readonly="true"
                >
                </div>

                <div
                    hc-label="经销商名称"
                    hc-input="data.currItem.customer_name"
                    hc-readonly="true"
                ></div>

                <div
					hc-label="合作结束时间"
					hc-input="data.currItem.contract_expire_date"
					hc-type="date"
					hc-readonly="true"
                ></div>
                
                <div
					hc-label="折扣有效期至"
					hc-input="data.currItem.discount_valid_date" 
					hc-type="date"
					hc-readonly="true"
				></div>
            </div>

            <div class="row">
				<div
					hc-label="所属事业部"
					hc-input="data.currItem.division_id"
					hc-dict-code="epm.division"
					hc-readonly="true"
				></div>

				<div
					hc-label="产品线"
					hc-input="data.currItem.order_pdt_line"
					hc-dict-code="epm.order_pdt_line"
					hc-readonly="true"
				></div>

                <div
                    hc-label="交易公司"
                    hc-input="data.currItem.trading_company_name"
                    hc-readonly="true"
                ></div>

                <div
                    hc-label="开票单位"
                    hc-input="data.currItem.billing_unit_name"
                    hc-readonly="true"
                ></div>
            </div>

            <div class="row">
				<div
					hc-label="变更说明"
					hc-input="data.currItem.ecn_reason"
					hc-required="true"
					hc-col-count="8"
                ></div>
            </div>
        </div>
        <div hc-box class="flex1 flex-column">
            <div hc-grid="gridOptions" class="flex1"></div>
        </div>
    </div>
</div>
<div hc-modal="lineModal">
	<div hc-box="替换前产品" ng-form="form_before_line" hc-form-readonly="true">
		<div class="row">
			<div
				hc-label="产品编码"
				hc-input="before_line.item_code"
			></div>

			<div
				hc-label="产品名称"
				hc-input="before_line.item_name"
				hc-col-count="6"
			></div>
		</div>

		<div class="row">
			<div
				hc-label="产品线"
				hc-input="before_line.entorgid"
				hc-dict-code="entorgid"
			></div>

			<div
				hc-label="型号"
				hc-input="before_line.model"
			></div>

			<div
				hc-label="规格"
				hc-input="before_line.spec"
			></div>

			<div
				hc-label="颜色"
				hc-input="before_line.color"
			></div>
		</div>

		<div class="row">
			<div
				hc-label="合同数量"
				hc-input="before_line.contract_qty"
				hc-type="number"
			></div>

			<div
				hc-label="应用折扣率"
				hc-input="before_line.discount_rate"
				hc-type="percent"
			></div>

			<div
				hc-label="标准单价"
				hc-input="before_line.stand_price"
				hc-type="money"
			></div>

			<div
				hc-label="折后单价"
				hc-input="before_line.discounted_price"
				hc-type="money"
			></div>
		</div>

		<div class="row">
			<div
				hc-label="可替换数量"
				hc-input="before_line.active_qty"
				hc-type="number"
			></div>

			<div
				hc-label="已下单数量"
				hc-input="before_line.ordered_qty"
				hc-type="number"
			></div>

			<div
				hc-label="折前金额"
				hc-input="before_line.undiscounted_amount"
				hc-type="money"
			></div>

			<div
				hc-label="折后金额"
				hc-input="before_line.discounted_amount"
				hc-type="money"
			></div>
		</div>
	</div>
	
	<div hc-box="替换后产品" class="flex1 flex-column">
		<div class="row">
			<div
				hc-label="总体积"
				hc-input="total.total_volume"
				hc-type="volume"
				hc-readonly="true"
			></div>

			<div
				hc-label="总数量"
				hc-input="total.total_qty"
				hc-type="number"
				hc-readonly="true"
			></div>

			<div
				hc-label="总金额"
				hc-input="total.discounted_amount"
				hc-type="money"
				hc-readonly="true"
			></div>
		</div>

		<div hc-grid="gridOptions" class="flex1"></div>
	</div>
	<style>
		[hc-input="before_line.active_qty"] input,
		[hc-input="before_line.active_qty"] label{
			color: #F35A05;
		}
	</style>
</div>
